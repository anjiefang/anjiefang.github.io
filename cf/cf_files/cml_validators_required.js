CMLFormValidator.addAllThese([["required",{allowedEvents:["submit"],allowedHiddenFields:["taxonomy"],errorMessage:function(element){var field=element.getParent(".cml_field");if(element.isTypeOf(["checkbox","radio"])){return CMLFormValidator.getMsg("oneRequired")}else{return CMLFormValidator.getMsg("required")}},validate:function(element){if(element.isTypeOf(["checkbox","radio"])){return element.getParent(".cml_field").getElements(".cml_row input:checked").length>0}else{if(element.isTypeOf(["taxonomy"])){return element.getParent(".cml_field").getElements(".cml_row input").some(function(el){return !CMLFormValidator.getValidator("empty").validate(el,element.retrieve("validateProps"))})}else{if(element.hasClass("has_default")){return false}else{return !CMLFormValidator.getValidator("empty").validate(element,element.retrieve("validateProps"))}}}},afterLoadProps:function(element){if(element&&CMLFieldVisibility.isVisible(element,this.allowedHiddenFields)){var fieldEl=element.getParent(".cml_field");if(fieldEl){fieldEl.getElements(".required").destroy();var legendEl=fieldEl.getElement(".legend");var requiredText=CMLFormValidator.getMsg("required_notice");if(legendEl){var spanLegend=new Element("span",{"class":"required",text:requiredText}).inject(legendEl,"bottom")}else{var pLegend=new Element("p",{"class":"required",text:requiredText}).inject(element.getParent(".cml_field"),"top")}}}}}],["clicked",{allowedEvents:["submit"],errorMessage:function(el){return CMLFormValidator.getMsg("clicked")},validate:function(el){return el.retrieve("click_count")>0},afterLoadProps:function(el,props){var validator=el.getParentForm().retrieve("validator");var mouseDown=function(){el.store("click_mouse_down",true)};var mouseUp=function(){if(el.retrieve("click_mouse_down")){el.store("click_count",el.retrieve("click_count")+1);if(validator){validator.errorMessage("hide",el)}}};el.store("click_count",0);el.addEvent("mousedown",mouseDown);el.addEvent("mouseup",mouseUp)}}],["unchecked",{errorMessage:function(element){return CMLFormValidator.getMsg("unchecked")
},validate:function(element){if(_cf_cml&&_cf_cml.digging_gold){var inputs=element.getParent(".cml_field").getElements('.cml_row input[type="checkbox"]');return !inputs.getLast().checked}else{return element.getParent(".cml_field").getElements(".cml_row input:checked").length==0}}}],["oneRequired",{errorMessage:CMLFormValidator.getMsg.pass("oneRequired"),validate:function(element,props){var field=element.getParent(".cml_field");return field.getElements(".cml_row input").some(function(el){if(el.isTypeOf(["checkbox","radio"])){return el.checked}return el.get("value")})}}]]);
